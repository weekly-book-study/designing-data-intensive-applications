# 1장

## 핵심

- 애플리케이션 내 데이터를 저장하는 시스템은 구현체가 끊임 없이 변한다.(ex. RDS, DDB, Redis, kafka..)
- 그럼에도 데이터베이스에게 요구되는 특징들이 존재한다.
- 신뢰성, 확장성, 유지보수성에 대해 알아보자.

## 1. 신뢰성

결함이 있는 상황에서도 사용자에게 일정 수준의 기능을 제공해줘야함.

### 결함 종류

- 하드웨어 결함
    - 하드웨어 자체 수명에 의한 운영 가능 기간 한계 존재.
    - 하드웨어 구성 요소의 중복으로 해결(ex. replication)
- 소프트웨어 결함
    - 단일 소프트웨어가 연관된 결함은 해결하기 용이.
    - 다만, 대부분의 해결하기 힘든 결함은 여러 소프트웨어가 연관된 경우.
        
        카오스 엔지니어링
        
        → 장애는 너무 많은 것이 연관(prod에서 테스트하는 것의 중요성)
        
        → 회사 사례
        
    - **여러 소프트웨어가 연관된 경우에 결함을 해결하는 패턴 존재.**
- 인적 결함
    - 모듈화, 추상화, 단일 책임 원칙을 지키는 코드 개발 문화 중요.
    - 코드 리뷰 강제.
    - 모니터링 시스템 구축.

## 2. 확장성

- 부하가 증가한 상황에 대처하기 위한 전략
- 확장성은 양적으로 설명.
- **부하 상황**과 성능 측정을 위한 **지표 설정**이 중요.
    - 부하 상황: 읽기: 100TPS, 쓰기 20TPS
    - 지표 설정: 중간 값, P50, P95 → 평균 보다는 중간값과 P95 등의 표현 방식이 중요.
- 이를 위해선 **시스템의 요구 사항**과 이에 맞는 **부하 상황**을 설계하는 능력이 필요.

<aside>
💡 시스템의 요구 사항 → 부하 상황 & 지표 설정

</aside>

## 3. 유지보수성

- 시스템은 운영 or 개발하는 팀의 리소스를 줄여주는 전략

### 종류

- 운영의 편리함
    - [Now] 보안 패치를 포함해 소프트웨어와 플랫폼을 최신 상태로 유지
        - 채널의 dependabot
    - [To-be] 배포, 설정 관리 등을 위한 모범 사례와 도구를 마련
        - 람다 함수의 dev, prod 배포 파이프라인
    - [To-be] 어드민 서버의 프록시 API용 코드 자동 생성 기능 개발
- 단일 책임
    - [Both] 복잡성이 낮은 소프트웨어는 장애 tracking이 쉬움
        - 메세지 삭제 기능 예시
            - Now
                - 실패한 요청은 경우에 따라 더 요청 안하거나 1번 더 요청하고 끝.
            - To-be
                - 실패한 요청은 모두 DLQ에 던짐
    - 모듈화 가능
- 추상화
    - 재사용성 높아짐.

## 정리

데이터 중심 애플리케이션에 대해 소통할 때 사용하는 주요 용어들에 대해 설명함. 앞으로 각 장을 읽을 때, 위 용어들을 염두해 두는 것이 좋을 듯.